<?xml version="1.0" encoding="ISO-8859-1"?>

<project name="openOptima" basedir="." default="java_compile">

	<property name="src.dir" value="src/" />
	<property name="classes.dir" value="classes" />
	<property name="doc.dir" value="doc" />
	<property name="jar.dir" value="jar" />

	<target name="clean" description="Delete all generated files">
		<delete dir="${classes.dir}" failonerror="false" />
		<delete dir="${doc.dir}" failonerror="false" />
		<delete file="${ant.project.name}.jar" />
	</target>

	<target name="java_compile" description="compile java code" depends="clean">
		<mkdir dir="${classes.dir}" />
		<javac srcdir="${src.dir}" destdir="${classes.dir}" source="1.5"
			includeantruntime="false"
			debug="true" debuglevel="lines,source">
			<classpath>
				<pathelement location="${src.dir}" />
				<pathelement location="${jar.dir}/junit-4.2.jar" />
				<pathelement location="${classes.dir}" />
			</classpath>
		</javac>

		<jar compress="true" destfile="${jar.dir}/openOptima.jar"
					basedir="${classes.dir}"
					includes="openOptima/**/*.class, openOptima/**/*.java, openOptima/**/*.xml" />

	</target>

	<target name="doc" depends="java_compile">
		<javadoc sourcepath="${src.dir}" destdir="${doc.dir}" author="true"
			version="true" use="true" windowtitle="openOptima API" access="public">
			<bottom>
			<![CDATA[<i>Copyright &#169; 2008. All Rights Reserved.</i>]]>
			</bottom>
			<packageset dir="${src.dir}">
				<include name="${ant.project.name}/**" />
			</packageset>
			<classpath>
				<pathelement location="${src.dir}" />
				<pathelement location="${jar.dir}/junit-4.2.jar" />
				<pathelement location="${classes.dir}" />
			</classpath>
		</javadoc>
	</target>
	



</project>		
